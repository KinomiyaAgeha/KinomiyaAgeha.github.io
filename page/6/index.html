<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/4.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/4.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"mikku01ck.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta property="og:type" content="website">
<meta property="og:title" content="QwQ">
<meta property="og:url" content="https://mikku01ck.github.io/page/6/index.html">
<meta property="og:site_name" content="QwQ">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Sz_zUwu">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://mikku01ck.github.io/page/6/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/6/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>QwQ - 没有尽头</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">QwQ</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">没有尽头</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">37</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">6</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">62</span></a></li>
        <li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Sz_zUwu"
      src="/images/1.jpg">
  <p class="site-author-name" itemprop="name">Sz_zUwu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">62</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">37</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Sz_zUwu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sz_zUwu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/295357491" title="BiliBili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;295357491" rel="noopener" target="_blank"><i class="fas fa-tv fa-fw"></i>BiliBili</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-08/to-Natsu2021/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-08/to-Natsu2021/" class="post-title-link" itemprop="url">致2021的夏</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-14 16:18:50" itemprop="dateCreated datePublished" datetime="2021-08-14T16:18:50+08:00">2021-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-07 21:18:08" itemprop="dateModified" datetime="2021-10-07T21:18:08+08:00">2021-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%80%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">简记</span></a>
        </span>
    </span>

  
    <span id="/2021-08/to-Natsu2021/" class="post-meta-item twikoo_visitors" data-flag-title="致2021的夏" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://i.loli.net/2021/08/14/ZSxuCsmGoNb4dv7.jpg"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021-08/to-Natsu2021/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-08/DP1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-08/DP1/" class="post-title-link" itemprop="url">动态规划α</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-12 13:17:28" itemprop="dateCreated datePublished" datetime="2021-08-12T13:17:28+08:00">2021-08-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-07 21:25:54" itemprop="dateModified" datetime="2021-10-07T21:25:54+08:00">2021-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OI/" itemprop="url" rel="index"><span itemprop="name">OI</span></a>
        </span>
    </span>

  
    <span id="/2021-08/DP1/" class="post-meta-item twikoo_visitors" data-flag-title="动态规划α" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://i.loli.net/2021/08/12/yWd1gtoelf2nVA3.jpg" alt="64720905_p0.jpg"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021-08/DP1/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-08/UVa1025-solution/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-08/UVa1025-solution/" class="post-title-link" itemprop="url">UVa1025 城市里的间谍 题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-09 22:40:57" itemprop="dateCreated datePublished" datetime="2021-08-09T22:40:57+08:00">2021-08-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-07 21:23:58" itemprop="dateModified" datetime="2021-10-07T21:23:58+08:00">2021-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">题解</span></a>
        </span>
    </span>

  
    <span id="/2021-08/UVa1025-solution/" class="post-meta-item twikoo_visitors" data-flag-title="UVa1025 城市里的间谍 题解" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/UVA1025">link</a></p>
<h2 id="solution"><a class="markdownIt-Anchor" href="#solution"></a> solution</h2>
<p>显然的，这是一道线性 DP 题。</p>
<p>而「时间」则是计算顺序。</p>
<p>题目要求求出最小等待时间，而转移「时间」这一状态与当前所处车站有关。</p>
<p>所以我们设 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">f(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> 为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.65952em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">i</span></span></span></span> 时刻，在第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span> 个车站的最小等待时间。</p>
<p>显然我们有三种转移决策。</p>
<ol>
<li>在当前车站再等待一个时刻。</li>
<li>乘坐向左的列车。</li>
<li>乘坐向右的列车。</li>
</ol>
<p>不难想到我们用一个数组 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mi mathvariant="normal">/</mi><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">v(i,j,k=0/1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mord mathrm">/</span><span class="mord mathrm">1</span><span class="mclose">)</span></span></span></span> 表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.65952em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">i</span></span></span></span> 个时刻的第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span> 个车站有无列车向左/右行驶。</p>
<p>设 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>(</mo><mi>i</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">t(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mclose">)</span></span></span></span> 为车站 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>i</mi><mo>→</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">(i \rightarrow i+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord mathit">i</span><span class="mrel">→</span><span class="mord mathit">i</span><span class="mbin">+</span><span class="mord mathrm">1</span><span class="mclose">)</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo>→</mo><mi>i</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(i+1 \rightarrow i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord mathit">i</span><span class="mbin">+</span><span class="mord mathrm">1</span><span class="mrel">→</span><span class="mord mathit">i</span><span class="mclose">)</span></span></span></span> 的时间。</p>
<p>那么转移为</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mstyle mathsize="1.2em"><mi>f</mi><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable><mtr><mtd><mrow><mi>min</mi><mrow><mo>{</mo><mi>f</mi><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>)</mo><mo separator="true">,</mo><mi>f</mi><mo>(</mo><mi>i</mi><mo>+</mo><mi>t</mi><mo>(</mo><mi>j</mi><mo>)</mo><mo separator="true">,</mo><mi>j</mi><mo>+</mo><mn>1</mn><mo>)</mo><mo>}</mo></mrow></mrow></mtd></mtr><mtr><mtd><mrow><mi>min</mi><mrow><mo>{</mo><mi>f</mi><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>)</mo><mo separator="true">,</mo><mi>f</mi><mo>(</mo><mi>i</mi><mo>+</mo><mi>t</mi><mo>(</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo>)</mo><mo separator="true">,</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo>)</mo><mo>}</mo></mrow></mrow></mtd></mtr></mtable></mrow></mstyle></mrow><annotation encoding="application/x-tex">\large f(i,j)=

\begin{cases}

\min{\{ f(i,j),f(i+t(j),j+1) \} }
\\
\min{\{ f(i,j),f(i+t(j-1),j-1) \} }

\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:2.1em;"></span><span class="strut bottom" style="height:3.6000360000000002em;vertical-align:-1.500036em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord"><span class="sizing reset-size5 size6 displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mrel">=</span><span class="minner displaystyle textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist"><span style="top:-0.6819999999999999em;"><span class="fontsize-ensurer reset-size6 size5"><span style="font-size:0em;">​</span></span><span class="mord displaystyle textstyle uncramped"><span class="mop">min</span><span class="mord displaystyle textstyle uncramped"><span class="mopen">{</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mbin">+</span><span class="mord mathit">t</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mbin">+</span><span class="mord mathrm">1</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span><span style="top:0.7579999999999999em;"><span class="fontsize-ensurer reset-size6 size5"><span style="font-size:0em;">​</span></span><span class="mord displaystyle textstyle uncramped"><span class="mop">min</span><span class="mord displaystyle textstyle uncramped"><span class="mopen">{</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mbin">+</span><span class="mord mathit">t</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mbin">−</span><span class="mord mathrm">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mbin">−</span><span class="mord mathrm">1</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size6 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span><span class="sizing reset-size6 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></span></span></p>
<p>两式对应的条件分别为</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mo fence="true">{</mo><mtable><mtr><mtd><mrow><mstyle mathsize="1.2em"><mi>v</mi><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mn>0</mn><mo>)</mo><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo>&lt;</mo><mi>n</mi><mo separator="true">,</mo><mi>i</mi><mo>+</mo><mi>t</mi><mo>(</mo><mi>j</mi><mo>)</mo><mo>≤</mo><mi>T</mi></mstyle></mrow></mtd></mtr><mtr><mtd><mrow><mstyle mathsize="1.2em"><mi>v</mi><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mn>1</mn><mo>)</mo><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo>&gt;</mo><mn>1</mn><mo separator="true">,</mo><mi>i</mi><mo>+</mo><mi>t</mi><mo>(</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo>)</mo><mo>≤</mo><mi>T</mi></mstyle></mrow></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\begin{cases}
\large v(i,j,0)=1,j&lt;n,i+t(j) \le T
\\
\large v(i,j,1)=1,j&gt;1,i+t(j-1) \le T
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.75em;"></span><span class="strut bottom" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="base displaystyle textstyle uncramped"><span class="minner displaystyle textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist"><span style="top:-0.6819999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1.2em;">​</span></span><span class="mord displaystyle textstyle uncramped"><span class="mord"><span class="sizing reset-size5 size6 displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mord mathrm">0</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathrm">1</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mrel">&lt;</span><span class="mord mathit">n</span><span class="mpunct">,</span><span class="mord mathit">i</span><span class="mbin">+</span><span class="mord mathit">t</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mrel">≤</span><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span></span><span style="top:0.7579999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1.2em;">​</span></span><span class="mord displaystyle textstyle uncramped"><span class="mord"><span class="sizing reset-size5 size6 displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mord mathrm">1</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathrm">1</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mrel">&gt;</span><span class="mord mathrm">1</span><span class="mpunct">,</span><span class="mord mathit">i</span><span class="mbin">+</span><span class="mord mathit">t</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mbin">−</span><span class="mord mathrm">1</span><span class="mclose">)</span><span class="mrel">≤</span><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1.2em;">​</span></span>​</span></span></span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></span></p>
<p><s>我有一个优美的状态转移方程，可惜这里空太小，我写不下</s></p>
<p>边界 $ \quad \large f(T,n)=0,f(T,[1,n-1])=\inf$</p>
<p>目标  $ \quad \large f(0,1)$</p>
<p>由于是「自底向上」的递推方法，要注意 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.65952em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">i</span></span></span></span> 要逆序循环。</p>
<p>还有向左向右列车的能够转移的状态的差异。</p>
<p>对于无解的情况，只需要判断目标状态是否等于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>inf</mi></mrow><annotation encoding="application/x-tex">\inf</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mop">in<span style="margin-right:0.07778em;">f</span></span></span></span></span> 就可以。</p>
<p>还要注意 UVa 的奇怪输出格式。</p>
<h2 id="code"><a class="markdownIt-Anchor" href="#code"></a> Code</h2>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">R</span> <span class="token expression"><span class="token keyword">register</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">inf</span> <span class="token expression"><span class="token number">0x3f3f3f3f</span></span></span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span> T<span class="token punctuation">,</span> t<span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> v<span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">r_</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//快读  &#125;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    R <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> m1<span class="token punctuation">,</span> m2<span class="token punctuation">,</span> d<span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token function">r_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        T<span class="token operator">=</span><span class="token function">r_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">r_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>inf<span class="token punctuation">;</span>
        m1<span class="token operator">=</span><span class="token function">r_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>m1<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            d<span class="token operator">=</span><span class="token function">r_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">&lt;=</span>T<span class="token punctuation">)</span> v<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> d<span class="token operator">+=</span>t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        m2<span class="token operator">=</span><span class="token function">r_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>m2<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            d<span class="token operator">=</span><span class="token function">r_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token punctuation">;</span><span class="token operator">--</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">&lt;=</span>T<span class="token punctuation">)</span> v<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> d<span class="token operator">+=</span>t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        f<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span>T<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>f<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>i<span class="token operator">+</span>t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;=</span>T<span class="token punctuation">)</span>
                f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>f<span class="token punctuation">[</span>i<span class="token operator">+</span>t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">></span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>i<span class="token operator">+</span>t<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>T<span class="token punctuation">)</span>
                f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>f<span class="token punctuation">[</span>i<span class="token operator">+</span>t<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Case Number %d: "</span><span class="token punctuation">,</span><span class="token operator">++</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>=</span>inf<span class="token punctuation">)</span> <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"impossible"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-08/natsu-TRpr1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-08/natsu-TRpr1/" class="post-title-link" itemprop="url">树上问题α</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-07 22:53:46" itemprop="dateCreated datePublished" datetime="2021-08-07T22:53:46+08:00">2021-08-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-07 21:26:35" itemprop="dateModified" datetime="2021-10-07T21:26:35+08:00">2021-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OI/" itemprop="url" rel="index"><span itemprop="name">OI</span></a>
        </span>
    </span>

  
    <span id="/2021-08/natsu-TRpr1/" class="post-meta-item twikoo_visitors" data-flag-title="树上问题α" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>树上问题可谓是老生常谈，家喻户晓了。凭着老少皆宜，童叟无欺，毒瘤遍地，常数离奇，复杂度迷等特点使 NOI 系列比赛出了很多奇葩树据结构题。</p>
<p>那么我们就开始吧！</p>
<p>设 $(x \rightarrow y)$ 为存在由节点 $x$ 到节点 $y$ 的路径。</p>
<h2 id="从最基本的-LCA-开始"><a href="#从最基本的-LCA-开始" class="headerlink" title="从最基本的 LCA 开始"></a>从最基本的 LCA 开始</h2><p>此 LCA 非彼 lca（某候选队爷），但是相信大家都明白 LCA 到底是个什么，这里不做赘述。</p>
<p>你说，你会 LCA，那我便考你一考。。。</p>
<p>LCA，究竟是甚么意思啊？</p>
<p>不就是最近公共祖先吗，<del>去 LOJ 看 lca 的头像啊</del>。</p>
<p>对呀对呀！……LCA 有四种求法，你知道吗?</p>
<p>编不下去了。 QwQ</p>
<p>LCA 有倍增、树剖、Tarjan、欧拉序 $+$ RMQ 四种常见求法。</p>
<p>那么有人会问了：向上标记法呢？</p>
<p>呐。。请问各位写过它吗（</p>
<p><del>写过当我没说</del></p>
<p>咳咳，实际上是因为这个算法太过返璞归真，就跟解方程时遍历集合 $R$ 来求解类似。</p>
<p>而那四种多半都是对这个算法的优化。</p>
<p>倍增最好写，实质上是对向上标记法的倍增优化。就是</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>f<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">>=</span>d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> y<span class="token operator">=</span>f<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 一定要写大于等于啊！！！</span></code></pre>

<p>或者写</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>j<span class="token operator">=</span>dep<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">-</span>dep<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>j<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">,</span>j<span class="token operator">>>=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span> y<span class="token operator">=</span>f<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>



<p>我在这里出错好多次了（暴露了我的菜。</p>
<p>倍增与树形 dp 非常相似，算法的流程简单明了。</p>
<p>设 $f(x,k)$ 为节点 $x$ 的第 $2^k$ 个祖先，显然转移为<br>$$<br>\large f(x,k)=f(f(x,k-1),k-1) \quad k \le log_2n<br>$$<br>在 DFS / BFS 预处理节点深度的时候可以顺便求出 $f$ 数组。</p>
<p>顺带一提 DFS / BFS 的同时还可以求出与每个节点到根的距离，然后求两点间的最小距离。实际应用时，应根据要预处理出的信息选择两种遍历方式，<del>但还是 DFS 好写，用处更多</del>。</p>
<p>查询的时候，对于点 $(x,y)$，将它们置于同一深度，然后。<br>$$<br>\text{You jump I jump!}<br>$$<br>通过 $k$ 递减顺序不断让 $(x,y)$ 往上 “跳”，比较祖先就行了。</p>
<p>复杂度为 </p>
<p>预处理 $O(n \times log_2n)$</p>
<p>单次查询 $O(log_2n)$</p>
<p><del>就是容易被卡</del></p>
<p>&nbsp;</p>
<p>Tarjan 同（du）志（liu）的算法是一个离线算法，实质上是对向上标记法的并查集优化。</p>
<p>但是实在是不常用，最起码我没在实际做题时用过。</p>
<p>Tarjan 同志的算法一向思路巧妙。</p>
<p>此算法将「访问完毕并且回溯的节点」标记为2，「访问了且尚未回溯的节点」标记为1，其余为0。同时开始时每个节点各自为一个集合。</p>
<p>用并查集维护「上一个回溯的父节点」。</p>
<p>但是我说不清楚。。很巧妙的算法，并且这位同志证明了每次查询为 $O(1)$。</p>
<p>预处理 $O(n)$。</p>
<p>处理询问 $O(n+m)$，$m$ 为询问个数。</p>
<p>就是常数有时比倍增还难看</p>
<p>在此不再赘述。</p>
<p>至于树剖和欧拉序 $+$ RMQ，我还没有系统地去学习，大概下一篇树上问题博客会说一下。</p>
<h3 id="接着经典题走一波。"><a href="#接着经典题走一波。" class="headerlink" title="接着经典题走一波。"></a>接着经典题走一波。</h3><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P5836">Milk Visits</a></p>
<p>累加每条路径的权，查询两件间距离时候大于0即可。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3398">仓鼠找sugar</a></p>
<p>设 $dis(x,y)$ 为 $(x \rightarrow y)$ 的最短路径长度。</p>
<p>如果 $(u \rightarrow v) $ 和 $(p \rightarrow q)$ 的最短路径相交，那么有<br>$$<br>\large dis(LCA(u,v),p)+dis(LCA(u,v),q)=dis(p,q)<br>$$<br>或者<br>$$<br>\large dis(LCA(p,q),u)+dis(LCA(p,q),v)=dis(u,v)<br>$$</p>
<p>&nbsp;</p>
<p>也就是有一条路径的 LCA 在另一条路径上。</p>
<p>稍加思索不难证明。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1967">货车运输</a></p>
<p>题目要求不超过限重，不难想到因该最大化每条路的限重。所以在原图上求出最大生成树。</p>
<p>那么对于点 $(x,y)$，如果在并查集中 $x$ 与 $y$ 不在同一个集合，则 $x$ 不能到达 $y$。</p>
<p>接下来就是每辆车最多运送的货物，不难想到最多运送的货物就是 $(x \rightarrow y)$ 路径上权值最小的边。</p>
<p>如果用朴素的算法去求最小的边权，那么复杂度会上天，$O(n)$。</p>
<p>联系我们对想上标记法的倍增优化，不难想到对求路径上最小的边权进行倍增优化。</p>
<p>设 $d(x,k)$ 为节点 $x$ 到它的 $2^k$ 辈祖先这条路径上最小的边权。</p>
<p>接着不难想到转移<br>$$<br>\large d(x,k)=\min{ { d(x,k-1),d(f(x,k-1),k-1) } } \quad k \le log_2n<br>$$<br>可以在求 $f$ 数组的同时求出。</p>
<p>所以，在求 LCA 的过程中不断维护路径上最小的 $d(x,k)$。</p>
<p>这题毒瘤数据，给出的图不一定联通。</p>
<p>顺带一提，$d$ 数组是什么，怎么转移，在第一页且算法相同的题解中，只有神鱼讲到了。某些人直接一笔带过甚至完全没有提到过。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4281">紧急集合 / 聚会</a></p>
<p>三个点两两求出 LCA，三个点的深度减去它们 LCA 的深度就是答案2。</p>
<p>而三个点 LCA 中必定有两个点相同，那个不同的即为答案1。</p>
<p>至于证明。。画图是显然的，但是论述的话感觉很多思路都不是那么有说服力，就不献丑了，自己说的自己都不能完全信。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4427">求和</a></p>
<p>大概是 LCA+树上差分，但又没去差分，仅仅是用了它的思路。</p>
<p>由于指数范围较小，我们设 $g(x,k)$ 为根节点到节点 $x$ 路径上点权的 $k$ 次方和，在 DFS 时维护，设 $dep(x)$ 为节点 $x$ 的深度。不难想到转移<br>$$<br>\large g(x,k)=g(y,k)+(dep(x)-1)^k \quad (y \rightarrow x)<br>$$<br>这是建立在点上的，可以看作点权，求路径上的点权和。</p>
<p>我们知道，两点之间路径的点权和可以表示为<br>$$<br>\large ty(x)+ty(y)-ty(z)-ty(f(z,0)) \quad z=LCA(x,y)<br>$$<br>其中 $ty(x)$ 必须是根节点到 $x$ 点的点权和，画图不难证明。</p>
<p>所以这题就可以切了。<br>$$<br>\large g(x,k)+g(y,k)-g(z,k)-g(f(z,0),k) \quad z=LCA(x,y)<br>$$<br>注意要加上 $mod$ 的两倍，不然会当场去世（</p>
<p>同时，借着这题说一下树上差分。</p>
<h2 id="树上差分"><a href="#树上差分" class="headerlink" title="树上差分"></a>树上差分</h2><p>差分本是对序列的操作，是前缀和的逆运算。树上差分就是将树上点/边的区间操作转化为差分，用前缀和求出维护的信息。</p>
<p>大概就是这种思想，没啥可说的，通常与 LCA 结合。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://loj.ac/p/10131">暗的连锁</a></p>
<p>经典题目，显然加入非树边 $(x \rightarrow y )$ 之后会形成一个环，将树上 $(x \rightarrow y)$ 的边上任意一边斩断，再斩断非树边，就可以击败 Dark。</p>
<p>姑且称非树边 $(x \rightarrow y )$ 将将树上 $(x \rightarrow y)$ 的路径「覆盖」了一次，不难想到，如果树边 $(u \rightarrow v)$ 被「覆盖」了多于一次，那么无论如何都不存在合法的方式将 Dark 斩断。</p>
<p>同时不难想到，如果一条树边没有被「覆盖」，那么将其斩断后再任意斩断一条非树边就能达到目的。<br>这题差分的是边权，求子树边权和，仿照上题的叙述方式，则有<br>$$<br>\large ty(x)+ty(y)-ty(z)-ty(z) \quad z=LCA(x,y)<br>$$<br>是不是很像求两点间的距离？</p>
<p>所以开一个 $w$ 数组，如果有 $(x \rightarrow y)$，就令<br>$$<br>w(x)+1,w(y)+1,w(z)-2 \quad z=LCA(x,y)<br>$$<br>通过 DFS 累加子树的 $w$，最后求出方案数即可。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3128">Max Flow</a></p>
<p>与上题的区别仅仅是 「差分的是点权，求最大子树边权和」，在累加差分数组 $w$ 时取每颗子树的最大值即可。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3258">松鼠的新家</a></p>
<p>差分的是点权，求每个点的访问次数。给出的访问顺序两两求出 LCA 并且差分，与前两题基本相同。</p>
<p>注意最后需要将访问顺序 $ w(a_i)-1 \quad 1 \le i \le n $ ，因为差分时会多加一次。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P6869">Putovanje</a></p>
<p>稍加思索不难发现，为了最小化费用，第 $i$ 条边只能用单程票或多程票，并且取决于经过 $i$ 的次数。</p>
<p>题目要求按照编号大小访问，不难想到两个点间的最短路径必定经过其 LCA，所以在倍增求 LCA 的时候将路径差分，最后用一次 DFS 求出每条边的访问次数，即$g$ 数组。</p>
<p>然后取 $\min{ ( c_{x,1} \times g(x),c_{x,2} ) } $​​​，累加 $ans$​​​</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/CF191C">Fools and Roads</a></p>
<p>题意很简单：有一颗 $n$ 个节点的树，$k$ 次旅行，问每一条边被走过的次数。</p>
<p>淼题，。，注意要按照边的顺序输出。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1600">天天爱跑步</a></p>
<p>有名的毒瘤题。</p>
<p>通过简单推式子与转化为树上区间问题来解决。</p>
<p>lyd 在他的蓝书中已经讲得很清楚了，<del>懒得讲了</del>，就不献丑了。</p>
<h2 id="树的直径"><a href="#树的直径" class="headerlink" title="树的直径"></a>树的直径</h2><p>通常意义上，直径为树上的最长链，可能有多条。</p>
<p>证明略，因为不知道问什么在 hexo 上报错。</p>
<p>两次 DFS / BFS 的思路都是相同的，都用到了「从一个节点出发能够到达的最远的节点一定是直径的一端」。</p>
<p>从任意节点出发记录最远能够到达的节点，它是直径的一端，再以它为起点记录最远能够到达的距离，显然那是另一端。</p>
<p>证明的话，写出的难度大于想到的难度，放个链接，<a target="_blank" rel="noopener" href="https://oi-wiki.org/graph/tree-diameter/">OI wiki</a></p>
<p>复杂度是显然的。</p>
<p>树形 dp 能优美地求出直径长度，并且能处理负权的情况，缺点也很明显，即相较于纯粹的 DFS，后者能维护更多的信息且更好写。但是 DFS / BFS 无法处理有负权的情况。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P5536">核心城市</a></p>
<p>题目要求 $k$ 座城市建到一条链上。最小化最大距离，很容易想到是直径。</p>
<p>所以两次 DFS 求出直径，在第二次 DFS 时标记出直径上的父子关系，然后求出直径中点。</p>
<p>以直径中点为起点进行 DFS，求出每个从每个节点以它为根的深度和出发能够到达的最大深度。</p>
<p>然后将求出的最大深度与原来在树中的深度相减再+1。</p>
<p>最后将得到的数组排序，取第 $k+1$ 大的值即可。</p>
<p>&nbsp;</p>
<p>删掉了一题，过不了 hexo。</p>
<hr>
<p>&nbsp;</p>
<p>不写了，再写就猝死了 Orz</p>
<p>直径还有好多题，以后看情况写吧。</p>
<p>接下来会把做题中心转到 DP 与数学上。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-08/lg3651-solution/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-08/lg3651-solution/" class="post-title-link" itemprop="url">luogu3651 展翅翱翔之时 题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-01 17:51:35" itemprop="dateCreated datePublished" datetime="2021-08-01T17:51:35+08:00">2021-08-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-17 09:09:16" itemprop="dateModified" datetime="2021-10-17T09:09:16+08:00">2021-10-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">题解</span></a>
        </span>
    </span>

  
    <span id="/2021-08/lg3651-solution/" class="post-meta-item twikoo_visitors" data-flag-title="luogu3651 展翅翱翔之时 题解" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3651">link</a></p>
<p>首先明确，题目中给出的是一个外向基环树森林。</p>
<p>可以修改每个节点的入边，并求使其强连通的最小代价。</p>
<p>显然地，在代价最小的解中，每颗基环树的环只会改一条边。</p>
<blockquote>
<p>简单证明：如果环上改了超过一条边，那么不能保证环上的点联通。若它们不连通，要花费更多的代价来使他们联通，显然是不划算的；若它们联通，那么显然只断一条边时仍然联通，也不划算。</p>
</blockquote>
<p>我们设修改每条边的代价为权。</p>
<p>接着不难想到，如果所有基环树的环都被断开了一条边，使其强连通代价最小的方案为保留最长链并尽可能将节点首尾相连，而其他的边一定要改。</p>
<blockquote>
<p>简单证明：如果最长链上的边被修改了，那么由于它是一条链，修改后必然要花更多的代价使它相连，并且修改最长链上的边的代价要大于修改其他的边。而首尾相连则是显然的。</p>
</blockquote>
<p>实际上是最长外向链，注意我们并不需要求出这条链，而是将它以外的边权累加，并且完善思路。</p>
<p>根据上面的推断，我们最终得到的是一个环。环是满足强连通的最简单的结构。</p>
<p>我们设  $f(i)$ 为节点 $i$ 初始时的父节点，直接读入即可。</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">add</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>接着就是找环，我么用 $cy()$ 保存环上的点，用 $v()$ 标记节点。</p>
<p>$v(i)=0$ 表示节点 $i$ 没有被访问，$v(i)=1$ 表示节点 $i$ 被访问过，但不是环上的点，$v(i)=2$ 表示节点 $i$ 是环上的点。</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> x<span class="token operator">=</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> cy<span class="token punctuation">[</span><span class="token operator">++</span>k<span class="token punctuation">]</span><span class="token operator">=</span>x<span class="token punctuation">,</span> v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> x<span class="token operator">=</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>然后找每棵树的最长链。设 $out(i)$ 为节点 $i$ 权值最大的子节点编号。</p>
<p>对环上的每个点进行 dfs，不断更新 $out(i)$，并将非最长链上的边的权值累加 $ans$。</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> fr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> i<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span>h<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>i<span class="token punctuation">;</span>i<span class="token operator">=</span>nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ver<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span>fr<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>ver<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		y<span class="token operator">=</span>ver<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token function">dfs</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>out<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">></span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> ans<span class="token operator">+=</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">else</span> ans<span class="token operator">+=</span>g<span class="token punctuation">[</span>out<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> out<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>接着就是环上点的处理，我们考虑两种情况。</p>
<p>对于环上的点 $i$，要将环拆为链。</p>
<ol>
<li><p>断开 $i$ 与 $f(i)$ 的边。</p>
</li>
<li><p>断开 $f(i)$ 的外向链到 $f(i)$ 的边。</p>
</li>
</ol>
<p>对于这两种情况，其代价分别用 $x$ 与 $y$ 维护。</p>
<p>$x$ 表示未断环，转移操作2的代价，累加边权。</p>
<p>$y$ 表示已将环断开一条边的代价，可以由两种操作转移而来。</p>
<p>又因为操作1又可以通过 $x$ 或 $y$ 两种状态转移，所以就有了这个奇怪的式子。</p>
<p>最后对于每颗树，累加 $y$ 就可以了。</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">find</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>k<span class="token operator">==</span>n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
    <span class="token comment">/* 如果环上的点等于n，那么就已经在同一个环里 */</span>
	x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">30</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token function">dfs</span><span class="token punctuation">(</span>cy<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		y<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token operator">+</span>g<span class="token punctuation">[</span>cy<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token operator">+</span>g<span class="token punctuation">[</span>out<span class="token punctuation">[</span>f<span class="token punctuation">[</span>cy<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		x<span class="token operator">+=</span>g<span class="token punctuation">[</span>out<span class="token punctuation">[</span>f<span class="token punctuation">[</span>cy<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	ans<span class="token operator">+=</span>y<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>



<p>虽然是蓝题，但是感觉比紫题还烧脑 QwQ。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-08/lg3778-solution/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-08/lg3778-solution/" class="post-title-link" itemprop="url">luogu3778 商旅 题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-01 17:51:10" itemprop="dateCreated datePublished" datetime="2021-08-01T17:51:10+08:00">2021-08-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-17 09:09:34" itemprop="dateModified" datetime="2021-10-17T09:09:34+08:00">2021-10-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">题解</span></a>
        </span>
    </span>

  
    <span id="/2021-08/lg3778-solution/" class="post-meta-item twikoo_visitors" data-flag-title="luogu3778 商旅 题解" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3778">link</a></p>
<p>由题意易得盈利效率为一个分数，故此题正解为分数规划。</p>
<p>又因为要求满足条件的环路，不难想到与最短路相关。</p>
<p>由于 $N$ 的范围很小，所以就可以大胆地使用邻接矩阵建图，并使用 floyd 算法。</p>
<p>题目中的盈利效率定义为：环路中的收益/花费的时间，给出的数据是两个集市 $(i,j)$ 从 $i$ 购买和从 $j$ 卖出分别的价格和从 $i$ 到 $j$ 的时间，并不能直接用于求盈利效率，不难想到预处理。</p>
<p>设 $g(i,j)$ 为从 $i$ 点买入，在 $j$ 点卖出的最大利润。</p>
<p>所以，我们在读入价格时预处理出每个 $g(i,j)$ 。注意这里要枚举 $i$ 的所有入边与 $j$ 的所有出边，并将其差取最大值。</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>inf<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    	<span class="token comment">/* 对于无法购买的两个集市，将其值改为相减为-inf的值，以免影响后面的运算 */</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>t<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span><span class="token operator">++</span>t<span class="token punctuation">)</span>
        g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token operator">-</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<p>设 $d(i,j)$ 为从 $i$ 到 $j$ 所用的最短时间，初始化为负无穷，读入所有两个点距离之后进行 floyd 算法求出。 这里用<code>memset(d,0x3f,sizeof(d))</code>的话只有82pts，血的教训。</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld%lld%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">,</span><span class="token operator">&amp;</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
        d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span>z<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>inf<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>t<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>t<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">></span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token operator">+</span>d<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token operator">+</span>d<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>

<p>设计完状态之后，就可以列出盈利效率的式子了。</p>
<p>不难想到，二分一个 $mid$，表示盈利效率为 $mid$，设 $i,j$ 为环路上可以相互到达的点 ，$E$ 为环路边集。</p>
<p>易得下式<br>$$<br>\large \frac{ \sum \limits_{i,j \in E} g(i,j) }{ \sum \limits_{i,j \in E} d(i,j) } \ge mid<br>$$<br>若此式成立，则答案与 $mid$ 取最大值，将左边界延后；否则右边界提前。</p>
<p>但是如此并不能直接进行计算，要把它转化为<strong>对环的判断</strong>。</p>
<p>所以我们设建一张新图，设 $f(i,j)$ 为新图上的权值。</p>
<p>不难得到<br>$$<br>\large \sum \limits_{i,j \in E} g(i,j) \ge mid \times \sum \limits_{i,j \in E} d(i,j)<br>$$</p>
<p>$$<br>\large \sum \limits_{i,j \in E} g(i,j) - mid \times \sum \limits_{i,j \in E} d(i,j) \ge 0<br>$$</p>
<p>所以我们令<br>$$<br>\large \sum \limits_{i,j \in E} f(i,j)= \sum \limits_{i,j \in E} g(i,j) - mid \times \sum \limits_{i,j \in E} d(i,j)<br>$$</p>
<p>所以<br>$$<br>\large   f(i,j)=g(i,j)-mid \times d(i,j) \quad i,j \in E<br>$$<br>然后跑 Floyd 算法，判断有无环并取最大值，在判断其是否为 $ \ge 0$。</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    R <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> t<span class="token punctuation">,</span> z<span class="token operator">=</span><span class="token operator">-</span>inf<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>j<span class="token punctuation">)</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span>inf<span class="token punctuation">;</span> <span class="token keyword">else</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>x<span class="token operator">*</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>t<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>t<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>j<span class="token punctuation">)</span>
        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token operator">+</span>f<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> z<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> z<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>二分结束时，保存的答案即为所求。</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">z<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>l<span class="token operator">&lt;=</span>r<span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">c</span><span class="token punctuation">(</span>mid<span class="token operator">=</span>l<span class="token operator">+</span>r<span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> z<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span>mid<span class="token punctuation">)</span><span class="token punctuation">,</span> l<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">else</span> r<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<p>这题是满满的细节！</p>
<ul>
<li>值域是 $[0,10^9]$，对题题目中的“如果没有任何一条环路可以盈利，则输出 0”并不需要特判。</li>
<li>一定要开 long long！</li>
<li>因为我们对权的处理，并不需要除法，因此可以完全无事题目中的向下取整。</li>
<li>记录的答案要取最大值！</li>
</ul>
<p>剩下的自己体会吧。。。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-08/natsu-GT2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-08/natsu-GT2/" class="post-title-link" itemprop="url">图论β</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-01 17:50:39" itemprop="dateCreated datePublished" datetime="2021-08-01T17:50:39+08:00">2021-08-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-07 21:26:52" itemprop="dateModified" datetime="2021-10-07T21:26:52+08:00">2021-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OI/" itemprop="url" rel="index"><span itemprop="name">OI</span></a>
        </span>
    </span>

  
    <span id="/2021-08/natsu-GT2/" class="post-meta-item twikoo_visitors" data-flag-title="图论β" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>目前我所在的地区还没有太受烟花影响，就下了点小雨</p>
<p>但是这一个月一点作业都没写 qwq，说要换班结果现在都没有消息</p>
<p>今天还要水一篇题解（</p>
<p>好吧 ╮(╯-╰)╭，进入正题</p>
<p>这是一份图论总结</p>
<h2 id="最短路"><a href="#最短路" class="headerlink" title="最短路"></a>最短路</h2><p>老生常谈的话题了。。</p>
<p>我们都知道最短路常用的三种算法： Dijkstra，Bellman-Ford，Floyd<br>其中 Dijkstra 算法是「纯粹的最短路算法」，它基于一个性质，即：当边权都为非负时，全局最小值不可能被其他节点更新，所以可以不断取出全局最小值标记并扩展。这也就导致了，他只能解决广义上可以转化为最短路模型的问题。它有堆优化和桶优化，但都不是本文的重点。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3008">Roads and Planes </a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/UVA12661">有趣的赛车比赛</a></p>
<p>这两题都是正经的「最短路问题」。</p>
<p>而 Bellman-Ford 就有意思得多。我们一般有用它的队列优化形式，也就是那个死掉的 SPFA。它有其他很多用处，<del>可惜我不会。</del></p>
<p>SPFA 算法的本质是对队列里的节点，用它能到达的节点对他进行「松弛」操作，使所有节点满足三角形不等式，对应到最短路问题里，就是 设 $d(i)$ 为原点到 $i$ 的最短距离，$E$ 为边集，则有<br>$$<br>\large {\forall} (x,y,z) \in E \quad d(y)\le d(x)+z<br>$$<br>这像什么？DP！</p>
<p>DP 对状态空间的遍历构成一张 DAG，顺序为该 DAG 的拓扑序。DP无法处理图上最短路问题的原因，是因为图不一定是一张DAG，状态之间有后效性。所以加一维，就可以求出最短路了，将其用滚动数组优化，就是 Bellman-Ford 算法。</p>
<p>这里懒得写了，就放几张 rxz 课件的图。</p>
<p><img src="https://i.loli.net/2021/07/31/ktlbg3Ico1ZrmxF.png"></p>
<p><img src="https://i.loli.net/2021/07/31/LUaA3o8Hj6lDKOJ.png" alt="image.png"></p>
<p><img src="https://i.loli.net/2021/07/31/9jcRSEpkbs3VrNX.png" alt="image.png"></p>
<p>所以，SPFA 的每一轮松弛操作，对应状态转移。最后，全部的状态收敛，满足三角形不等式（优化后的状态转移方程与三角形不等式不谋而合），所以就求出了答案。</p>
<p>我们回过头来看堆优化 Dijkstra，它实际上近似于「堆优化的 SPFA」，其中也有传奇的三角形不等式。</p>
<p>这启发我们，对于有后效性且不便于加维的 DP，我们可以使用类似最短路的方式进行状态转移。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4042">骑士游戏</a></p>
<p>经典的一道题，运用了上述思想。</p>
<p>Dijkstra 和类似拓扑序的顺序也能做，而且复杂度有保证，<del>但是不够刺激</del>。</p>
<p>看到题解里有人把一本通用来讲述 SPFA 用处的话贴了上来，顿时想起那本不仅大力推崇 SPFA，还花了大量篇幅讲述何种优化方式及用法，<del>然而全部都会被卡掉。</del></p>
<p>在这里吐槽一下这本书，通篇宋体，码风奇怪，抄袭，漏洞百出。</p>
<p>就算讲解很敷衍，也坚持把全部代码贴出来。</p>
<p>而且抄袭的部分感觉讲解不完整， <del>没有联系上下文</del>，非抄袭的部分思维局限，舍本逐末，讲不到核心的思维。</p>
<p>很多人只知道去建模，只浮于表面。</p>
<p><a href="luogu.com.cn/problem/P1948">Telephone Lines</a></p>
<p>这道题有两种做法。一是用上述 DP 与最短路问题的共通性，建分层图，直接跑最短路。</p>
<p>另一种是二分答案，将不花钱的线看作权为0的边，其余为权为1的边，判断是否可行。</p>
<p>这种情况又有两种做法。</p>
<p>像不像二叉树  \ (￣︶￣*)) </p>
<p>一种是使用双端队列 BFS，另一种是在 BFS 时，扩展完一个节点，将其改为未访问的状态</p>
<p>两种方式有细节的不同。</p>
<p>这启发我们，SPFA 是基于 BFS 的算法，其能求解权不为1的图的最短路问题。</p>
<p>最短路问题与 DP，类似拓扑序的奇妙结合，则需要我们自己做题去思考并体会了。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3953">逛公园</a>  (这题可以看出 pair 的常数之大)</p>
<p><a href="luogu.com.cn/problem/P2446">大陆争霸</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/solution/P3645">雅加达的摩天楼</a> (奇怪的题，<del>我还没做</del>)</p>
<p>SPFA 还能用来判负环，以及用在分数规划中。具体可以参考我之前的博客。</p>
<p>至于 floyd，我之前的两篇博客都讲得差不多了，，</p>
<h2 id="生成树"><a href="#生成树" class="headerlink" title="生成树"></a>生成树</h2><p>相信大家对 MST 很了解，这里就不细说概念了。</p>
<p>有两种常用算法 Kruskal 与 Prim。</p>
<p>Kruskal 算法基于贪心，由排序和并查集实现，每次选取权值最小的边加入最小生成树，简单好写。</p>
<p>Prim 算法维护最小生成树的一部分，及 MST 点集 $T$ 和其他点集 $S$，每次找 $\min{_{x \in T,y \in T} {z}}$ 这样一条边并加入 $T$，具体实现不作赘述。</p>
<p>感觉这部分没啥好说的，也可能是因为我做题少。</p>
<p>最小生成树上两点的路径就是两点的最小瓶颈路，即路上最大边权最小。</p>
<p>呃……好像就没了。</p>
<p>次小生成树和 kruskal 重构树都没有深入学，仅仅是知道。（<del>我连模板题都没切掉</del></p>
<p>随便水一个最短路径生成树吧。</p>
<p>在最短路算法进行的过程中，原点到每个点的最短路径是不断扩展的，而将这些路径加入一个集合，此集合就是一颗最短路径生成树，即所对于边 $(x,y,z)$，有 $d(y)=d(x)+z$</p>
<p><a target="_blank" rel="noopener" href="https://loj.ac/p/10064">黑暗城堡</a></p>
<p>对于上题，先跑一遍 Dijkstra，然后执行一个类似于 prim 算法的操作。即维护最短路径生成树的一部分，每扩展一个节点，就判断当前树中有多少节点满足上述条件，并将结果累乘，最终求得答案。</p>
<p>纯粹的生成树问题，要么很难，要么很水，大多数是配合其他算法解决树上图上问题，这里就不放题了。</p>
<h2 id="差分约束系统"><a href="#差分约束系统" class="headerlink" title="差分约束系统"></a>差分约束系统</h2><p>差分约束系统是 $N$ 元一次不等式组，形如。<br>$$<br>\large x_i-x_j\ge c_k \quad i,j \in X<br>$$<br>其中 $X$ 是变量集。</p>
<p>当然不等式也可以变成 $x_i-x_j \le c_k$ 这样。</p>
<p>与三角形不等式十分相似。</p>
<p>所以考虑将其与最短路问题相结合。如果把构成差分的两个变量看作节点，不等式的限制看作边与权，那么最短路数组 $d(i)$ 就是满足当前不等式的**约束 **下的 $i$ 的最大值。</p>
<p>据 smy 所言，图论是在线性代数下的课程。</p>
<p>然而我并没有深入理解。。。</p>
<p>而由于这仅仅是一些点之间的关系，直接建图的话图不一定联通，所以有时候需要虚拟原点。还可能隐含一些限制，所以也要注意一些情况，如<br>$$<br>\large d(x) \le d(x+1) \le d(x)+1<br>$$<br>而这样的题目多是求最大值或最小值，不难想到</p>
<p>对于最大值而言，要使满足形如 $x_i-x_j \le c_k$ 的式子最少，这是显然的</p>
<p>所以跑最短路，图中不应出现负环。</p>
<p>最小值则反之。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3275">糖果</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/SP116">Intervals</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4926">倍杀测量者</a></p>
<p>那么差分约束系统最有意思的地方在哪呢？</p>
<p>当然是 <strong>約束（やくそく）</strong>辣~</p>
<p><a target="_blank" rel="noopener" href="http://music.163.com/song?id=32235890">言葉のいらない約束</a></p>
<p>$ キミの背中押す、結んだ約束 $</p>
<p>$ 推动着你前行，我们定下的约定 $</p>
<h2 id="一些话"><a href="#一些话" class="headerlink" title="一些话"></a>一些话</h2><p>莫名想起去年的暑假</p>
<p>那个没有OI，没有whk，没有被孤立，无忧无虑的暑假</p>
<p>那个曾经被我认为没有意义的暑假</p>
<p>在刷B站，玩游戏，听歌这种循环往复中感受到了夏日透出的清凉</p>
<p>仿佛能蒸融那些鼓吹“竞争”，支持学生内卷的噪音</p>
<p>我还记得那个夏天快要结束的时候</p>
<p>纵使滚滚乌云遮蔽了天空，耳机里的歌声仍然能把我带向更远的地方</p>
<p>然而开学后呢？</p>
<p>”成绩”所带来了虚荣也好，麻烦也罢，彻底毁了我对周围人的信任</p>
<p>发生了很多事，每一次都让我看清那些我曾经当作“朋友”的人的丑恶嘴脸</p>
<p>剩下的，也就只剩那些交情不是很深的阿宅们了……</p>
<p>$  夏の夢に染まっていたいだけ $</p>
<p>$ 想要只做着夏日的梦$ </p>
<p>$ お願いどうか覚めないでよ $</p>
<p>$  拜托了请不要让我醒过来 $</p>
<p>回收初二这一年，一直在逃避，逃避学校内的压力，逃避自己的现状与未来</p>
<p>似乎没有做好一件事</p>
<p>而如今，自己确实走上了自己希望的道路吧。。。</p>
<p>Tommy_Keen，K神的签名大概是</p>
<p>be strong，小伙子，在OI上，你比半年前强了那么多</p>
<p>半年前，1月31日</p>
<p>我最没有方向的时候</p>
<p>一个连 dfs 都不会写的菜鸡，还受到了外界的打击以及胡思乱想给自己的心理压力</p>
<p>前几天的夜晚</p>
<p>那个又迷失了方向的夜晚</p>
<p>“不必在意那些学了好多年的人啊！你一定能超过他们！”</p>
<p>“他们只是时间比我充足啊！”</p>
<p>如是安慰自己</p>
<p>可在晦暗的房间里</p>
<p>回应我的只有氤氲着「嵐（あらし）」气息的风裹挟着的划过眼角的游丝</p>
<p>远处的天空，只有单调的灰黑色</p>
<p>是那么孤独 那么孤独</p>
<p>但愿我能做到吧</p>
<p>耳边响彻的 <a target="_blank" rel="noopener" href="http://music.163.com/song?id=33367345">夜明けと蛍</a></p>
<p>夏が来ないままの空を描いたなら</p>
<p>/若然幻想出那片夏日仍未到來的天空</p>
<p>君は僕を笑うだろうか</p>
<p>/你大概會取笑我吧</p>
<p>明け方の夢</p>
<p>/於拂曉之夢中</p>
<p>浮かぶ月が見えた</p>
<p>/能看見那片浮月之空</p>
<p>朝が来ないままで</p>
<p>/若然能永不迎來清晨</p>
<p>息が出来たなら</p>
<p>/如此呼吸生存下去的話</p>
<p>遠い遠い夏の向こうへ</p>
<p>/那就往遙遠 遙遠的 夏日的彼方去</p>
<p>冷たくない君の手のひらが見えた</p>
<p>/我並不寒冷 因為能看見你的手心</p>
<p>淡い朝焼けの夜空</p>
<p>/遍染淡淡朝霞的夜空</p>
<p>夏がこないままの街を今</p>
<p>/此刻走於這夏日仍未到來的街道上</p>
<p>あぁ 藍の色 夜明けと蛍</p>
<p>啊啊 蒼藍之色 黎明與螢光</p>
<p><a target="_blank" rel="noopener" href="http://music.163.com/song?id=30053338">IA 版本</a></p>
<p><a target="_blank" rel="noopener" href="http://music.163.com/song?id=1302953072">鹿乃版本</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-07/natsu-GT1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-07/natsu-GT1/" class="post-title-link" itemprop="url">图论α_暑假day26-27-28</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-28 23:25:41" itemprop="dateCreated datePublished" datetime="2021-07-28T23:25:41+08:00">2021-07-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-07 21:26:46" itemprop="dateModified" datetime="2021-10-07T21:26:46+08:00">2021-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OI/" itemprop="url" rel="index"><span itemprop="name">OI</span></a>
        </span>
    </span>

  
    <span id="/2021-07/natsu-GT1/" class="post-meta-item twikoo_visitors" data-flag-title="图论α_暑假day26-27-28" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今晚上出去吃了顿饭，回家就已经9点了qwq</p>
<h2 id="闲话"><a href="#闲话" class="headerlink" title="闲话"></a>闲话</h2><p>自从夏令营结束就一直在颓废，整天摸鱼🐟，昨天终于开始卷OI了</p>
<pre class="language-markdown" data-language="markdown"><code class="language-markdown">消え去ってしまってよ　行ってしまうなら
	   除去掉了啊　起行了的话
	   僕はここで止まらないで
	   那我就绝不会止步于此啊
                 ------- ウミユリ海底譚 </code></pre>

<p>这就像海底谭一样令人感动不是吗（bushi&nbsp;</p>
<p>快乐水没了，，，烟花马上登录山东！</p>
<p>今天中午出去吃饭，看到蜜雪冰城前堆满了人，生意红红火火恍恍惚惚哼哼嘿嘿哈哈</p>
<p>所以我就像在夏令营那样去了阿水</p>
<p>真的懒得等了，orz</p>
<h2 id="言归正传"><a href="#言归正传" class="headerlink" title="言归正传"></a>言归正传</h2><hr>
<p>前几天我搞了一个图论&amp;树上问题的题单，其实有一部分是我觉得不错的题目，其他的随便挑的题，具体好不好就不能保证了。。</p>
<p>感觉POI题目质量不错啊</p>
<h3 id="7-26"><a href="#7-26" class="headerlink" title="7.26"></a>7.26</h3><p>写了一个割点的模板，没了</p>
<h3 id="7-27-amp-7-28"><a href="#7-27-amp-7-28" class="headerlink" title="7.27 &amp; 7.28"></a>7.27 &amp; 7.28</h3><p>通过 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2939">Revamping Trails</a> 接触了分层图的概念与简单应用</p>
<p>所谓分层图，即</p>
<p><img src="https://cdn.luogu.com.cn/upload/pic/10006.png"></p>
<p>(图片来源于 @fy1234567ok，侵删)</p>
<p>适用于把一张图多次修改的情况</p>
<p>建多层图，每一层对应每一种情况（具体做法就不说了</p>
<p>这样的话，最终可以求出每一种情况的答案，取合适值即可</p>
<p>相应地，其时空复杂度也是随层数上升（常数通常上升的很离谱</p>
<p>然后又学习了<strong>分数规划</strong>及其在图论上的应用</p>
<p>经典例题</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2868">Sightseeing Cows</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4377">Talent Show</a></p>
<p>这两题式子很像</p>
<p>0/1分数规划模型为：</p>
<p>对于给定的 $a_1,a_2,a_3,…,a_n$ 与 $b_1,b_2,b_3,…,b_n$，求一组解 $x_i(1 \le i \le n,x_i=0/1)$，使下式最大化</p>
<p>$ \large \frac{ \sum ^n \limits_{i=1} a_i \times x_i}{\sum ^n \limits_{i=1} b_i \times x_i} $</p>
<p>分数值必然存在单调性，所以我们二分一个 $mid$，使</p>
<p>$ \large \frac{ \sum ^n \limits_{i=1} a_i \times x_i }{ \sum ^n \limits_{i=1} b_i \times x_i } \ge mid $</p>
<p>经过变形不难得到 ( $ \LaTeX $ 炸了的话就将就看把。。。)</p>
<p>$ \large \sum ^n_{i=1} (a_i-mid \times b_i) \times x_i \ge 0 $</p>
<p>所以就有了t2这样的0/1背包的规划</p>
<p>当然这只是基本形式，本质是从两个集合中各选若干元素，是他们各自之和之商最大</p>
<p>实际上式子不会是这样的，但其形式无非是</p>
<p>$ \large \sum^n _{i=1} z_i \ge 0 $​</p>
<p>其中 $z_i$ 是某多项式</p>
<p>如果 $z_i$ 是图上的权，你会想到什么？</p>
<p>负环！</p>
<p>如果一张图中存在负环，那么上式<strong>不会成立</strong>，并且上式成立与否是判断 $mid$ 是否可行的关键！</p>
<p>所以对于关于图论的题 (t1)，推出式子后二分答案转判定，不断使用某个已经死掉的算法判断是否有负环，最终求得答案</p>
<p>对于那个已经死掉的算法，可以用</p>
<ul>
<li>最短路长度不超过 $n$</li>
<li>每个点入队次数不超过 $n$</li>
<li>最快的dfs形式</li>
</ul>
<p>可在最短路问题上，它还是死了</p>
<p>随随便便就能卡掉，虽然有各种优化，但是正式比赛只有比阿伟还勇的勇士敢写</p>
<p>但是网络流、判负环、差分约束等非最短路问题上，它还活着 o((&gt;ω&lt; ))o</p>
<p>一个最短路算法，如今基本不用在最短路问题上……</p>
<p>那么不是图论呢？</p>
<p>t2实质上是背包，那么通过dp求出最终的答案，判断是否大于等于0，实质是一样的</p>
<p>下面是几道题</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3199">最小圈</a></p>
<p>双倍经验：<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/UVA11090">Going in Cycle!!</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3288">方伯伯运椰子</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3705">新生舞会</a> 与网络流结合</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4322">最佳团体</a> 与树形 dp 结合</p>
<p>$updata$  2021.8.6 23:51</p>
<p>站外题 <a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/350/">最优比率生成树</a> （我还没做</p>
<p>综上，分数规划可以当作加了一个多项式的二分答案来做，不需要很强的数学推导能力，而且是相对冷门的内容。出了二分以外，还有 Dinkelbach 迭代法，然而我不会</p>
<p>&nbsp;</p>
<p>然后是两道 Floyd 算法的题目</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2419">Cow Contest</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2047">社交网络</a></p>
<p>这两道题本质上是对考察对 Floyd 算法的理解</p>
<p>通过松弛操作解决传递闭包有关问题</p>
<p>$ \large X \rightarrow Y,Y \rightarrow Z \implies X \rightarrow Z$​​</p>
<p>大概长这样</p>
<p>和通过松弛操作求出最短路数</p>
<p>本来今天还想学一下强连通分量，无奈时间喂给了 $osu!$</p>
<p>&nbsp;</p>
<hr>
<p>好多内容还没讲</p>
<p>但现在是 7.28 23:10</p>
<p>今天就到这啦~</p>
<p>&nbsp;</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-07/SDSC2021/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-07/SDSC2021/" class="post-title-link" itemprop="url">山东OI夏令营2021 游记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-23 15:18:26" itemprop="dateCreated datePublished" datetime="2021-07-23T15:18:26+08:00">2021-07-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-07 21:23:40" itemprop="dateModified" datetime="2021-10-07T21:23:40+08:00">2021-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%B8%B8%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">游记</span></a>
        </span>
    </span>

  
    <span id="/2021-07/SDSC2021/" class="post-meta-item twikoo_visitors" data-flag-title="山东OI夏令营2021 游记" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="SD-summer-camp"><a href="#SD-summer-camp" class="headerlink" title="SD summer camp!"></a>SD summer camp!</h3><p>首先吐槽一句“数据结构提高班”只讲一天数据结构，“高级算法班”讲了线段树、平衡树、分块等等一堆数据结构。。。</p>
<p>&nbsp;</p>
<h2 id="7-15-报道"><a href="#7-15-报道" class="headerlink" title="7.15 报道"></a>7.15 报道</h2><p>大老远坐车到日照，花了整整一上午时间 QAQ。在车站坐公交车去山外，山外在最后一站，一路上一直在听歌。为了防止耳机没电就用的有线耳机。</p>
<p>报道时就已经有好多人了，官方没说明白路线，在学校里转了好久才找到报到处。拿到学员证（fan ka）后知道了我在新8号楼，结果这是唯一没有桌子和wifi的宿舍楼、、(╬▔皿▔)╯。还有一些没什么用的信息。</p>
<p>在宿舍知道我市还有教练带队来的初中生，xxs，<del>没有高中的</del>。认识了来自德州的准高一学生zqr，这家伙还会网络流 orz。</p>
<p>去超市买了可乐和阿萨姆，，，，这一晚上大概就是玩。</p>
<p>&nbsp;</p>
<h2 id="7-16-day01"><a href="#7-16-day01" class="headerlink" title="7.16 day01"></a>7.16 day01</h2><p>山外的空调好冷 ≡(▔﹏▔)≡，开的16度但是晚上被冻醒好几次，早晨常规6点起床了，早饭吃到了山外最喜欢的豆角。。几乎每天每顿都有。</p>
<p>今天上午在报告厅上课，由来自莱州一中的 <del>孙名媛</del> 孙铭远讲述图论相关知识。</p>
<p>先讲了 dijkstra 以及堆优化与桶优化与次短路问题及其证明，有个大佬说可以用 A star 搞。。好吧我不会 A star。</p>
<p>然后就讲了用 A star 的 K 短路问题，很多人不那么理解估价函数，我大概明白了，然鹅我还是不会<del>实现</del>。</p>
<p>还有已经死掉的某算法以及 Floyd 与 johnson</p>
<p>接着是最长路问题，没啥好说的，然后下课了。</p>
<p><strong>这里有一个小插曲</strong>：报告厅在-1楼没有厕所，我们只能去楼上找了一个位置奇怪的厕所。。。然而那里只有两个位置，等着的却又很多人。有人说“这和排队接水是一样的” “你怎么知道每个人用的时间？” “估价函数！” 简直笑死。。后来知道正经的厕所在六楼。</p>
<p>上课后讲了差分约数系统，大概就是一堆不等式的操作，，并且讲述了虚拟原点的作用。</p>
<p>然后是生成树相关。先介绍了两种常规MST算法与很有意思的 boruvka 算法，然后讲述了最小瓶颈路/树和次小生成树。</p>
<p>随后详细讲了 kruskal 重构树及其<strong>优美性质</strong>，今天的课程就结束了。</p>
<p><strong>各路大佬简直吊打我</strong></p>
<p>下午自己随便切了几道题目，这段时间的题目会在夏令营结束后选几题单独讲一下。吃完晚饭去机房，然而人却满了，，，有两个组的用同几间机房，白天上机时间错开，但是晚上就不行了。这一点很不满意 (* ￣︿￣)</p>
<p>截至7.18 23:00，我晚上没有在机房抢到一个位置。</p>
<p>所以我和朋友在宿舍用热点切题去了~</p>
<p>&nbsp;</p>
<h2 id="7-17-day02"><a href="#7-17-day02" class="headerlink" title="7.17 day02"></a>7.17 day02</h2><p>今天早上起晚了一点，，</p>
<p>依然是孙名媛讲述图论。</p>
<p>先讲了欧拉回路的定义、性质、<strong>美妙</strong>性质以及运用。</p>
<p>在讲 CF547D 的时候，“找到一条欧拉回路并对边定向” 没有讲述过程，后面做这题的时候直接去世。</p>
<p>然后是树上相关问题。</p>
<p>括号序，欧拉序，dfs 序。</p>
<p>还有重链剖分。</p>
<p>我在十几天钱看过树上相关问题，对于这种在树上一顿dfs与bfs理解起来还是没有压力的。后面说树链剖分一般和数据结构同时出现（其实基本都是线段树），我 /(ㄒoㄒ)/~~</p>
<p>一个多月前我还会写线段树板子，现在已经忘得差不多了。前几天k神给我一道线段树优化 dp，我连读题的心都无了。。。</p>
<p>最后是 dsu on tree，也叫树上启发式合并。是一种基于重链剖分，合并重复扫描，从而降低复杂度的算法。也没啥复杂的，还是树上操作，实质上是一种 <strong>暴力，但不完全暴力</strong> 的算法。</p>
<p>在最后的最后，甚至还提到了点分治。。真要讲了那真的是 “数据结构提高班”了。</p>
<p>朋友在山外超商里买了一个耳机，花了几十元（忘了。。），同款的在某宝只要个位数就能买到（）。</p>
<p>认识了来自青岛平度的准高一学生官同学和与他玩mc的小朋友。他的 linux 技术实在是太强了 orz。我连 wsl 都不会用 ╥﹏╥…</p>
<p>&nbsp;</p>
<p>下午举行了 %你赛 形式的练习</p>
<p>T1：次短路<br>T2：差分约束系统<br>T3：欧拉路径<br>T4：使用重链剖分求LCA<br>T5：dsu on tree的课件例题<br>T6：dsu on tree简单习题</p>
<p>t1、t4我之前做过。t2是小k的农场，机房有大佬发现直接输出 <code>Yes</code> 可以得85分，还能下载数据。所以他们共同合作，特判数据，得到了比我快4s的速度。t3能想明白，但最后的实现上出了问题，，对边定向到底是个什么操作啊。</p>
<p>smy发了t5的标程（因为讲课时很多人都没听懂，就算懂了也不会实现），t6只要把t5的板子改一下就行了。</p>
<p>这个班是选手讲课的下界，往下的班就是教练上课了，但是没有真正意义上的%你赛，上机时还没人盯着  (￣y▽,￣)╭ </p>
<p>晚上听了yamf的讲座，讲述他羟基进pku的事情，我在下面玩游戏，大概听了半个多小时就回宿舍了。</p>
<p>&nbsp;</p>
<h2 id="7-18-day03"><a href="#7-18-day03" class="headerlink" title="7.18 day03"></a>7.18 day03</h2><p>早上室内温度又低的离谱，室内比空调制冷的温度还低。</p>
<p>今天是yamf的数论课，但实际上讲得很少，从最基础的质数开始，最后连exgcd和欧拉函数都没有讲到。</p>
<p>下午的练习</p>
<p>T1：分解质因数</p>
<p>T2：线性筛质数</p>
<p>T3：GCD&amp;LCM</p>
<p>T4：进制转换</p>
<p>T5：同余</p>
<p>T6：乘法逆元</p>
<p>t1、t2做过了。t3是gcd和lcm一顿推，最终推出简化的式子。t5开桶统计，t6卡掉了我的费马小定理，，</p>
<p>唯独t4要单独说一下，<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4461">九连环</a> </p>
<p>这道题实质上是一个递推求方案数的题（为什么写进制转换？），但是没有取模，不写高精最终只有30pts。</p>
<p>然而同机房的神仙发现，用python可以直接水过去，只跑了不到200ms！</p>
<p>所以我不要脸地去Trick了。 &lt;(＿　＿)&gt;</p>
<p>晚上是lyh的金牌之路，我听完了，但是大部分时间还是划水。</p>
<p>**想不到lyh也玩 $osu!$ **</p>
<p>所以我一边听一边玩。</p>
<p>听完讲座后去超商买了零食。</p>
<p>还有好多琐事忘了。</p>
<p>&nbsp;</p>
<h2 id="7-19-day04"><a href="#7-19-day04" class="headerlink" title="7.19 day04"></a>7.19 day04</h2><p>今日的课程可就友好太多了，基础算法，还是yamf。</p>
<p>yamf：今天的课程一定很轻松的~</p>
<p>然后他讲了鱼神出的  <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P5344">【XR-1】逛森林</a></p>
<p>好多人都没听懂，我当时在打电动，没有听完 QwQ。</p>
<p>yamf：这题没什么思维难度，就是实现起来比较麻烦。</p>
<p><img src="https://i.loli.net/2021/07/23/XeU82IrZnlcfEVB.jpg"></p>
<p>还有二分，st表，倍增，倍增LCA，当然这些没啥好讲的，主要是讲题。</p>
<p>yamf说他把洛谷账号注销了，除了洛谷独占的题目，别的都是从loj之类的网站找的。</p>
<p>练习</p>
<p>T1：bfs</p>
<p>T2：RMQ（ST表）</p>
<p>T3：倍增优化数据结构</p>
<p>T4：使用倍增求LCA</p>
<p>T5：二分答案的课件例题</p>
<p>T6：二分答案简单习题</p>
<p>只有t2做过QAQ</p>
<p>t3是   <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3295"> [SCOI2016]萌萌哒</a> ，这题我自己想了好久，然而没有想到正解。正解是st表+魔改的并查集。</p>
<p>t6 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/CF1359F">RC Kaboom Show</a> 是一道纯英文的CF题目，首先题面我就没看懂，还有一个类似于扫描线的过程。。。最后放弃了。但是洛谷唯一一篇题解是lyh写的诶~</p>
<p>晚上的讲座有变动，我没去。</p>
<p>高级算法班的同学们模拟赛出了三道题，分治，数学和lxl题。zqr只有50pts（</p>
<p>_rqy：题目太水了</p>
<p>&nbsp;</p>
<h2 id="7-20-day05"><a href="#7-20-day05" class="headerlink" title="7.20 day05"></a>7.20 day05</h2><h3 id="我们最爱的-lxl-来啦！"><a href="#我们最爱的-lxl-来啦！" class="headerlink" title="我们最爱的 $lxl$ 来啦！"></a>我们最爱的 $lxl$ 来啦！</h3><p>lxl：你们这里好热 orz</p>
<p>lxl讲了树状数组，线段树，单调队列，堆啥的，还有一些题 （线段树讲得很浅，用的还是以前的课件，讲得和洛谷五一课几乎一样，然而这并不影响我们对lxl的热♂情）。</p>
<p>最后还有STL演示！</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">
map <span class="token operator">&lt;</span> string <span class="token punctuation">,</span> string <span class="token operator">></span> p1<span class="token punctuation">;</span>
map <span class="token operator">&lt;</span> <span class="token keyword">int</span> <span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> p2<span class="token punctuation">;</span>
p1 <span class="token punctuation">[</span> <span class="token string">"CCF"</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"发财"</span><span class="token punctuation">;</span>
p1 <span class="token punctuation">[</span> <span class="token string">"lxl"</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"良心出题人"</span><span class="token punctuation">;</span>
p2 <span class="token punctuation">[</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">114514</span><span class="token punctuation">;</span>
</code></pre>



<p><img src="https://i.loli.net/2021/07/23/Zpcq2zGvAMrhSeL.jpg"></p>
<p>&nbsp;</p>
<p><img src="https://i.loli.net/2021/07/23/iE9boYdGJvIyj4g.jpg"></p>
<p>lxl懒得搞练习题，所以下午自己切题了。</p>
<p>晚上是smy的dp讲座。</p>
<p>&nbsp;</p>
<p><img src="https://i.loli.net/2021/07/23/Rl8FaCMGomXdBxn.jpg"></p>
<p>&nbsp;</p>
<p>我究极绿宝石1周目通啦！</p>
<p>也就是在这一晚，我玩 $OSU!$​ 时笔记本电脑突然卡住，关机重启之后x键就失灵了。。</p>
<p>在超商买了一盒某巢咖啡。</p>
<p>QWQ</p>
<p>&nbsp;</p>
<h2 id="7-21-day06"><a href="#7-21-day06" class="headerlink" title="7.21 day06"></a>7.21 day06</h2><p>真是有意思的一天。</p>
<p>今天是lyh的dp课。</p>
<p>但是这个dp课啊，，，</p>
<p>从数字三角形开始讲，，，</p>
<p>是怕有人听不懂还是单纯的水时长啊 (#｀-_ゝ-)</p>
<p>线性dp，背包，区间dp，树形dp，数位dp，状压dp，单调队列优化（有人说不会单调队列，所有又讲了一遍，水了半小时）。</p>
<p>每一样都讲了，但是每一样都讲得不是很多，没有讲很多题。</p>
<p>课件一共讲40+页，但是一共有一百多张。</p>
<p>最想吐槽的是树形dp。</p>
<p>例题只有没有上司的舞会和选课，下午的练习也没什么意思。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3574">FarmCraft</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P6082">salesman</a></p>
<p>比较好的两道树形dp。</p>
<p>练习</p>
<p>T1 线性dp</p>
<p>T2 区间dp</p>
<p>T3/T4：背包（并不是那么显然，可能需要一些思考）<br>T5/T6：树形dp</p>
<p>六道题我做过4道。。</p>
<p>估计某位yba神仙也是，然后直接提交上去了，瞬间400，rk1。</p>
<p>我直接做没做过的题了。</p>
<p>T4 垃圾（我）陷阱</p>
<p>显然地，是背包，只不过状态的设计花了我亿点时间。</p>
<p>T5 “访问”美术馆</p>
<p>背包属性dp，最难的地方在于读入和建树。</p>
<p>T5/T6 都是树形背包dp。</p>
<p>没有做状压dp的题，我不是很喜欢这种复杂度奇高，接近于暴搜的dp。</p>
<p>树形dp就很不错啊。</p>
<p>状态设计与转移都很优美，复杂度低，在各种树上问题都能用到，还有很多套路题可以水AC数和题解（</p>
<p><img src="https://i.loli.net/2021/07/23/yDVQbMRuHnd23xY.jpg"></p>
<p>晚上在机房切题了，<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1131">时态同步</a>和<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1453">城市环路</a></p>
<p>树形dp水题和基环树有点氵的题（因为我一开始的思路错了。。）</p>
<p>又去了超商。</p>
<p>&nbsp;</p>
<h2 id="7-22-day07"><a href="#7-22-day07" class="headerlink" title="7.22 day07"></a>7.22 day07</h2><p>今天凌晨0:00，我去隔壁宿舍吃零食。</p>
<p>有个人让我和他们玩三国杀，我就和他们开了一把。</p>
<p>我的角色牌很垃圾，最后选了界吕蒙。</p>
<p>就没有然后了 ≡(▔﹏▔)≡</p>
<p>被管理员查水表了 QAQ</p>
<p>还做了半个小时的蹲姿  啊啊啊。</p>
<p>然而早上起来一点都不疼，就是特别困。</p>
<p>上午讲得dp优化，基本没在听。</p>
<p>单调队列优化，数据结构优化，斜率优化，杂题选讲。</p>
<p>斜率优化只听了个大概，不会推式子。</p>
<p><img src="https://i.loli.net/2021/07/23/baAxm4w9g5fUFlz.jpg"></p>
<p>下午一点就去练习</p>
<p>T1：数位dp<br>T2/T3：状压dp<br>T4：二分+单调队列优化<br>T5/T6：斜率优化</p>
<p>只做出了T1，T2，T4，T5 </p>
<p>因为这些东西我之前都没有学过啊，就算懂得原理也不会实现。</p>
<p>所以做得很慢，而且除了T4都是看着题解做的。</p>
<p>被各路神仙吊打。</p>
<p>好吧。 ╮(╯-╰)╭</p>
<p>就这样结束了。</p>
<p>大概明天会就这段时间的题目水几篇题解。</p>
<hr>
<p>现在想起来，，，</p>
<p>走出机房的那一刻，听着<a target="_blank" rel="noopener" href="http://music.163.com/song?id=454966322">ホタライズ -2015 Summer Edition-</a></p>
<p>斜阳抹过树叶的罅隙，划向云层的彼方。</p>
<p>夏日的阳炎，融化在阵阵蝉鸣中，与激动的心情一同淹没在追逐而来的风中</p>
<p>仅仅是七天，但我感觉真的不是孑然一身了呢</p>
<p>再也不是那个闷在家里自学，愤世嫉俗，自欺欺人的家伙了呢</p>
<p>我也想去追寻，我的那份「真物」，不管它是否存在过</p>
<p>对一切都失望的时候</p>
<p>「真物」</p>
<p>真的能给人力量啊</p>
<h3 id="update-2021-7-23"><a href="#update-2021-7-23" class="headerlink" title="$update$ 2021.7.23"></a>$update$ 2021.7.23</h3>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://mikku01ck.github.io/2021-07/natsu-day012/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="Sz_zUwu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QwQ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021-07/natsu-day012/" class="post-title-link" itemprop="url">暑假day12</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-12 20:44:36" itemprop="dateCreated datePublished" datetime="2021-07-12T20:44:36+08:00">2021-07-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2021-10-07 21:18:18" itemprop="dateModified" datetime="2021-10-07T21:18:18+08:00">2021-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%80%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">简记</span></a>
        </span>
    </span>

  
    <span id="/2021-07/natsu-day012/" class="post-meta-item twikoo_visitors" data-flag-title="暑假day12" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="twikoo_visitors"></span>
    </span>
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="今日切掉5道题"><a href="#今日切掉5道题" class="headerlink" title="今日切掉5道题"></a>今日切掉5道题</h3><p>下雨了，一直呆在家没出门</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2654">原核生物培养</a></p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1090">合并果子</a>与<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1880">石子合并</a>的缝合怪。。形象一点说就是把若干堆石子合并成一堆，放在哈夫曼树上，形成一个果子，然后再把果子进行合并。</p>
<p>是不是很形象呀~ ο(=•ω＜=)ρ⌒☆</p>
<p>好吧一点都不好笑，呵呵。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P6082">salesman</a></p>
<p>很不错的贪心+树形dp。巧妙之处在于贪心策略和判断解是否唯一的推理过程。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3745">期末考试</a></p>
<p>有dalao用三分求解这道题，orz</p>
<p>这题单纯枚举时间就行了，<del>时间 $t_i$ 和 $b_i$ 那么小是有原因的</del>。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2865">Roadblocks</a></p>
<p>次短路，我用的dij。</p>
<p>&nbsp;</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1841">重要的城市</a></p>
<p>这道题主要是对 Floyd “松弛”的理解，明白了它的原理，这道题就迎刃而解了</p>
<p>用 spfa 也能做，但我 <del>看不懂</del> 莫名其妙RE好多次。。</p>
<p><strong>不要Trick &emsp; —阮行止</strong></p>
<hr>
<p>题目基本都是在<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/team/33750">睡前组团拉香香</a>这个奇妙的团队题单里找的  ˋ( ° ▽、° )</p>
<p>感觉我暑假每一天的博客越来越单调了。</p>
<hr>
<p>说好的7.10出成绩，现在还没出！</p>
<p>7.15就要去参加SD夏令营了，rp++。好像人数不是很多，，，不知道能不能见到省队队员</p>
<p>每天都要和一个准高一的初学oi的sb斗图，然鹅他永远不会知道他面对的是一个表情包多到找不过来的人</p>
<p><img src="https://i.loli.net/2021/07/12/9VMoqFHws6TtaUO.jpg" alt="久违的表情包"></p>
<p>作业好多啊orz，同学都在卷文化课，，只有我在学oi</p>
<p><img src="https://i.loli.net/2021/07/12/5cqoD48bstJlC6y.jpg"></p>
<p><strong>还是OI有意思</strong> ╰(￣ω￣ｏ)</p>
<p><img src="https://i.loli.net/2021/07/12/dwltBvCPrXxfkKO.gif"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sz_zUwu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://mikku01ck.github.io/page/6/"}</script>
  <script src="/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="twikoo" type="application/json">{"enable":true,"visitor":true,"envId":"myhexo-0g6qpsti0d3fe3af","el":"#twikoo-comments"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.twikoo.el)
    .then(() => NexT.utils.getScript(
      'https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js',
      { condition: window.twikoo }
    ))
    .then(() => {
      twikoo.init(CONFIG.twikoo);
    });
});
</script>

</body>
</html>
