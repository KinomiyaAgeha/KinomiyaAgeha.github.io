---
title: 图论α_暑假day26-27-28
urls: natsu-GT1
categories: OI
tags: 图论
math: true
abbrlink: 4c815a06
date: 2021-07-28 23:25:41
---



今晚上出去吃了顿饭，回家就已经9点了qwq

## 闲话

自从夏令营结束就一直在颓废，整天摸鱼🐟，昨天终于开始卷OI了

```markdown
消え去ってしまってよ　行ってしまうなら
	   除去掉了啊　起行了的话
	   僕はここで止まらないで
	   那我就绝不会止步于此啊
                 ------- ウミユリ海底譚 
```

这就像海底谭一样令人感动不是吗（bushi&nbsp;

快乐水没了，，，烟花马上登录山东！



今天中午出去吃饭，看到蜜雪冰城前堆满了人，生意红红火火恍恍惚惚哼哼嘿嘿哈哈

所以我就像在夏令营那样去了阿水

真的懒得等了，orz

## 言归正传

<!--more-->

----

前几天我搞了一个图论&树上问题的题单，其实有一部分是我觉得不错的题目，其他的随便挑的题，具体好不好就不能保证了。。

感觉POI题目质量不错啊

### 7.26

写了一个割点的模板，没了

### 7.27 & 7.28

通过 [Revamping Trails](https://www.luogu.com.cn/problem/P2939) 接触了分层图的概念与简单应用

所谓分层图，即

![](https://cdn.luogu.com.cn/upload/pic/10006.png)

(图片来源于 @fy1234567ok，侵删)

适用于把一张图多次修改的情况

建多层图，每一层对应每一种情况（具体做法就不说了

这样的话，最终可以求出每一种情况的答案，取合适值即可

相应地，其时空复杂度也是随层数上升（常数通常上升的很离谱



然后又学习了**分数规划**及其在图论上的应用

经典例题

[Sightseeing Cows](https://www.luogu.com.cn/problem/P2868)

[Talent Show](https://www.luogu.com.cn/problem/P4377)

这两题式子很像

0/1分数规划模型为：

对于给定的 $a_1,a_2,a_3,...,a_n$ 与 $b_1,b_2,b_3,...,b_n$，求一组解 $x_i(1 \le i \le n,x_i=0/1)$，使下式最大化

$ \large \frac{ \sum ^n \limits_{i=1} a_i \times x_i}{\sum ^n \limits_{i=1} b_i \times x_i} $

分数值必然存在单调性，所以我们二分一个 $mid$，使

$ \large \frac{ \sum ^n \limits_{i=1} a_i \times x_i }{ \sum ^n \limits_{i=1} b_i \times x_i } \ge mid $

经过变形不难得到 ( $ \LaTeX $ 炸了的话就将就看把。。。)

$ \large \sum ^n_{i=1} (a_i-mid \times b_i) \times x_i \ge 0 $

所以就有了t2这样的0/1背包的规划

当然这只是基本形式，本质是从两个集合中各选若干元素，是他们各自之和之商最大

实际上式子不会是这样的，但其形式无非是

$ \large \sum^n _{i=1} z_i \ge 0 $​

其中 $z_i$ 是某多项式

如果 $z_i$ 是图上的权，你会想到什么？

负环！

如果一张图中存在负环，那么上式**不会成立**，并且上式成立与否是判断 $mid$ 是否可行的关键！

所以对于关于图论的题 (t1)，推出式子后二分答案转判定，不断使用某个已经死掉的算法判断是否有负环，最终求得答案

对于那个已经死掉的算法，可以用

- 最短路长度不超过 $n$
- 每个点入队次数不超过 $n$
- 最快的dfs形式

可在最短路问题上，它还是死了

随随便便就能卡掉，虽然有各种优化，但是正式比赛只有比阿伟还勇的勇士敢写

但是网络流、判负环、差分约束等非最短路问题上，它还活着 o((>ω< ))o

一个最短路算法，如今基本不用在最短路问题上……

那么不是图论呢？

t2实质上是背包，那么通过dp求出最终的答案，判断是否大于等于0，实质是一样的

下面是几道题

[最小圈](https://www.luogu.com.cn/problem/P3199)

双倍经验：[Going in Cycle!!](https://www.luogu.com.cn/problem/UVA11090)

[方伯伯运椰子](https://www.luogu.com.cn/problem/P3288)

[新生舞会](https://www.luogu.com.cn/problem/P3705) 与网络流结合

[最佳团体](https://www.luogu.com.cn/problem/P4322) 与树形 dp 结合

$updata$  2021.8.6 23:51

站外题 [最优比率生成树](https://www.acwing.com/problem/content/350/) （我还没做

综上，分数规划可以当作加了一个多项式的二分答案来做，不需要很强的数学推导能力，而且是相对冷门的内容。出了二分以外，还有 Dinkelbach 迭代法，然而我不会

&nbsp;

然后是两道 Floyd 算法的题目

[Cow Contest](https://www.luogu.com.cn/problem/P2419)

[社交网络](https://www.luogu.com.cn/problem/P2047)

这两道题本质上是对考察对 Floyd 算法的理解

通过松弛操作解决传递闭包有关问题

$ \large X \rightarrow Y,Y \rightarrow Z \implies X \rightarrow Z$​​

大概长这样

和通过松弛操作求出最短路数

本来今天还想学一下强连通分量，无奈时间喂给了 $osu!$

&nbsp;

------

好多内容还没讲

但现在是 7.28 23:10

今天就到这啦~

&nbsp;



